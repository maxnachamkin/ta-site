function mdp_acp_get_alpha_value_from_color(a){var o;return a=a.replace(/ /g,""),a.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)?(o=100*parseFloat(a.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)[1]).toFixed(2),o=parseInt(o)):o=100,o}function mdp_acp_update_alpha_value_on_color_control(a,o,l,r){var e,t,i;e=o.data("a8cIris"),t=o.data("wpWpColorPicker"),e._color._alpha=a,i=e._color.toString(),o.val(i),t.toggler.css({"background-color":i}),r&&mdp_acp_update_alpha_value_on_alpha_slider(a,l),o.wpColorPicker("color",i)}function mdp_acp_update_alpha_value_on_alpha_slider(a,o){o.slider("value",a),o.find(".ui-slider-handle").text(a.toString())}Color.prototype.toString=function(a){if("no-alpha"==a)return this.toCSS("rgba","1").replace(/\s+/g,"");if(1>this._alpha)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var o=parseInt(this._color,10).toString(16);if(this.error)return"";if(o.length<6)for(var l=6-o.length-1;l>=0;l--)o="0"+o;return"#"+o},jQuery(document).ready(function(a){a(".alpha-color-control").each(function(){var o,l,r,e,t,i,c,n,p,_,d;o=a(this),l=o.val().replace(/\s+/g,""),r=o.attr("data-palette"),e=o.attr("data-show-opacity"),t=o.attr("data-default-color"),i=-1!==r.indexOf("|")?r.split("|"):"false"==r?!1:!0,c={change:function(a,l){var r,e,i,c;r=o.attr("data-customize-setting-link"),e=o.wpColorPicker("color"),t==e&&(i=mdp_acp_get_alpha_value_from_color(e),p.find(".ui-slider-handle").text(i)),wp.customize(r,function(a){a.set(e)}),c=n.find(".transparency"),c.css("background-color",l.color.toString("no-alpha"))},palettes:i},o.wpColorPicker(c),n=o.parents(".wp-picker-container:first"),a('<div class="alpha-color-picker-container"><div class="min-click-zone click-zone"></div><div class="max-click-zone click-zone"></div><div class="alpha-slider"></div><div class="transparency"></div></div>').appendTo(n.find(".wp-picker-holder")),p=n.find(".alpha-slider"),_=mdp_acp_get_alpha_value_from_color(l),d={create:function(o,r){var e=a(this).slider("value");a(this).find(".ui-slider-handle").text(e),a(this).siblings(".transparency ").css("background-color",l)},value:_,range:"max",step:1,min:0,max:100,animate:300},p.slider(d),"true"==e&&p.find(".ui-slider-handle").addClass("show-opacity"),n.find(".min-click-zone").on("click",function(){mdp_acp_update_alpha_value_on_color_control(0,o,p,!0)}),n.find(".max-click-zone").on("click",function(){mdp_acp_update_alpha_value_on_color_control(100,o,p,!0)}),n.find(".iris-palette").on("click",function(){var l,r;l=a(this).css("background-color"),r=mdp_acp_get_alpha_value_from_color(l),mdp_acp_update_alpha_value_on_alpha_slider(r,p),100!=r&&(l=l.replace(/[^,]+(?=\))/,(r/100).toFixed(2))),o.wpColorPicker("color",l)}),n.find(".button.wp-picker-default").on("click",function(){var a=mdp_acp_get_alpha_value_from_color(t);mdp_acp_update_alpha_value_on_alpha_slider(a,p)}),o.on("input",function(){var o=a(this).val(),l=mdp_acp_get_alpha_value_from_color(o);mdp_acp_update_alpha_value_on_alpha_slider(l,p)}),p.slider().on("slide",function(l,r){var e=parseFloat(r.value)/100;mdp_acp_update_alpha_value_on_color_control(e,o,p,!1),a(this).find(".ui-slider-handle").text(r.value)})})});